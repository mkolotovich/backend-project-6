extends ../layouts/application.pug

block header
  h1= t('layouts.application.tasks')
  a(href='/tasks/new' class="btn btn-primary me-1")= t('views.tasks.create')
block content
  table.table.table-striped
    thead
      tr
        th= t('views.statuses.id')
        th= t('views.statuses.name')
        th= t('views.tasks.status')
        th= t('views.tasks.author')
        th= t('views.tasks.executor')
        th= t('views.statuses.createdAt')
    tbody
      each task in tasks
        tr
          td= task.id
          td  
            a(href='/tasks/' + task.id)= task.name
          td= task.status
          td= task.author
          td= task.executor
          td= formatDate(task.createdAt)
          td(class="d-flex") 
            a(href='/tasks/' + task.id + '/edit' class="btn btn-primary me-1")= t('views.users.edit')
            +formFor()(action='/tasks/' + task.id method='post')
              input(type="hidden" name="_method" value="DELETE")
              input(class='btn btn-danger' type='submit' value=t('views.users.remove'))